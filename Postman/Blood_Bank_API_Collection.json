{
	"info": {
		"_postman_id": "blood-bank-api-collection",
		"name": "Blood Bank Antibody Identification System API",
		"description": "Comprehensive API collection for testing the Blood Bank Antibody Identification System. This collection includes all CRUD operations for Templates, Antigens, Antibody Rules, Antigrams, Patient Reactions, and Cell Finding functionality.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "blood-bank-system"
	},
	"item": [
		{
			"name": "Template Management",
			"description": "CRUD operations for antigram templates. Templates define the structure for creating antigrams with specific antigen orders and cell counts.",
			"item": [
				{
					"name": "Get All Templates",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/templates",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"templates"
							]
						},
						"description": "Retrieve all available antigram templates. Returns a list of templates with their IDs, names, antigen orders, cell counts, and cell ranges."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/templates",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n  {\n    \"id\": 1752694582796,\n    \"name\": \"Standard Panel\",\n    \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"K\", \"k\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lea\", \"Leb\"],\n    \"cell_count\": 10,\n    \"cell_range\": [1, 10]\n  },\n  {\n    \"id\": 1752694844028,\n    \"name\": \"Extended Panel\",\n    \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"f\", \"Cw\", \"V\", \"K\", \"k\", \"Kpa\", \"Kpb\", \"Jsa\", \"Jsb\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"Xga\", \"Lea\", \"Leb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lua\", \"Lub\"],\n    \"cell_count\": 16,\n    \"cell_range\": [1, 16]\n  }\n]"
						}
					]
				},
				{
					"name": "Get Template by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/templates/{{template_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"templates",
								"{{template_id}}"
							]
						},
						"description": "Retrieve a specific template by its ID. Returns the template details including name, antigen order, cell count, and cell range."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/templates/1752694582796",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates",
										"1752694582796"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1752694582796,\n  \"name\": \"Standard Panel\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"K\", \"k\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lea\", \"Leb\"],\n  \"cell_count\": 10,\n  \"cell_range\": [1, 10]\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/templates/999999999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates",
										"999999999"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Not found\"\n}"
						}
					]
				},
				{
					"name": "Create Template",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"K\", \"k\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lea\", \"Leb\"],\n  \"cell_count\": 10,\n  \"cell_range\": [1, 10]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/templates",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"templates"
							]
						},
						"description": "Create a new antigram template. Requires name, antigen_order (array of valid antigen names), cell_count, and optional cell_range [start, end]. Only antigens that exist in the database and have antibody rules are allowed."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"K\", \"k\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lea\", \"Leb\"],\n  \"cell_count\": 10,\n  \"cell_range\": [1, 10]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/templates",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Template created\",\n  \"template_id\": 1752694582796\n}"
						},
						{
							"name": "Validation Error - Missing Fields",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Template\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/templates",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Missing name, antigen_order, or cell_count\"\n}"
						},
						{
							"name": "Validation Error - Invalid Antigens",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"INVALID_ANTIGEN\"],\n  \"cell_count\": 10\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/templates",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"The following antigens are not valid (must exist in Antigen table and have at least one enabled antibody rule): INVALID_ANTIGEN\"\n}"
						},
						{
							"name": "Validation Error - Invalid Cell Range",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\"],\n  \"cell_count\": 10,\n  \"cell_range\": [10, 1]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/templates",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"cell_range start must be less than end\"\n}"
						}
					]
				},
				{
					"name": "Update Template",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"K\", \"k\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lea\", \"Leb\"],\n  \"cell_count\": 12,\n  \"cell_range\": [1, 12]\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/templates/{{template_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"templates",
								"{{template_id}}"
							]
						},
						"description": "Update an existing template by ID. Requires the same validation as creating a template. Only antigens that exist in the database and have antibody rules are allowed."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Updated Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\", \"K\", \"k\", \"Fya\", \"Fyb\", \"Jka\", \"Jkb\", \"S\", \"s\", \"M\", \"N\", \"P\", \"Lea\", \"Leb\"],\n  \"cell_count\": 12,\n  \"cell_range\": [1, 12]\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/templates/1752694582796",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates",
										"1752694582796"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Template updated\",\n  \"template_id\": 1752694582796\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Updated Test Template\",\n  \"antigen_order\": [\"D\", \"C\", \"c\", \"E\", \"e\"],\n  \"cell_count\": 10\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/templates/999999999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates",
										"999999999"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Not found\"\n}"
						}
					]
				},
				{
					"name": "Delete Template",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/templates/{{template_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"templates",
								"{{template_id}}"
							]
						},
						"description": "Delete a template by ID. This action cannot be undone and will remove the template from the system."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/templates/1752694582796",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates",
										"1752694582796"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Template deleted\"\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/templates/999999999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"templates",
										"999999999"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Not found\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Antigen Management",
			"description": "CRUD operations for antigens. Antigens are the blood group markers that are tested in antigrams and used in antibody identification.",
			"item": [
				{
					"name": "Get All Antigens",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antigens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens"
							]
						},
						"description": "Retrieve all antigens from the database. Returns a list of antigens with their names and blood group systems."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n  {\n    \"name\": \"D\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"C\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"c\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"E\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"e\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"K\",\n    \"system\": \"Kell\"\n  },\n  {\n    \"name\": \"k\",\n    \"system\": \"Kell\"\n  },\n  {\n    \"name\": \"Fya\",\n    \"system\": \"Duffy\"\n  },\n  {\n    \"name\": \"Fyb\",\n    \"system\": \"Duffy\"\n  },\n  {\n    \"name\": \"Jka\",\n    \"system\": \"Kidd\"\n  },\n  {\n    \"name\": \"Jkb\",\n    \"system\": \"Kidd\"\n  },\n  {\n    \"name\": \"S\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"s\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"M\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"N\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"P\",\n    \"system\": \"P\"\n  },\n  {\n    \"name\": \"Lea\",\n    \"system\": \"Lewis\"\n  },\n  {\n    \"name\": \"Leb\",\n    \"system\": \"Lewis\"\n  }\n]"
						}
					]
				},
				{
					"name": "Get Valid Antigens",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antigens/valid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens",
								"valid"
							]
						},
						"description": "Retrieve only antigens that have at least one enabled antibody rule. Used by Cell Finder and Template Management."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens/valid",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens",
										"valid"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n  {\n    \"name\": \"D\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"C\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"c\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"E\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"e\",\n    \"system\": \"Rh\"\n  },\n  {\n    \"name\": \"K\",\n    \"system\": \"Kell\"\n  },\n  {\n    \"name\": \"k\",\n    \"system\": \"Kell\"\n  },\n  {\n    \"name\": \"Fya\",\n    \"system\": \"Duffy\"\n  },\n  {\n    \"name\": \"Fyb\",\n    \"system\": \"Duffy\"\n  },\n  {\n    \"name\": \"Jka\",\n    \"system\": \"Kidd\"\n  },\n  {\n    \"name\": \"Jkb\",\n    \"system\": \"Kidd\"\n  },\n  {\n    \"name\": \"S\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"s\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"M\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"N\",\n    \"system\": \"MNS\"\n  },\n  {\n    \"name\": \"P\",\n    \"system\": \"P\"\n  },\n  {\n    \"name\": \"Lea\",\n    \"system\": \"Lewis\"\n  },\n  {\n    \"name\": \"Leb\",\n    \"system\": \"Lewis\"\n  }\n]"
						}
					]
				},
				{
					"name": "Get Default Antigen Order",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antigens/default-order",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens",
								"default-order"
							]
						},
						"description": "Get the default antigen order (Panocell order) as an array. Used by Cell Finder and Template Management."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens/default-order",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens",
										"default-order"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n  \"D\",\n  \"C\",\n  \"c\",\n  \"E\",\n  \"e\",\n  \"f\",\n  \"Cw\",\n  \"V\",\n  \"K\",\n  \"k\",\n  \"Kpa\",\n  \"Kpb\",\n  \"Jsa\",\n  \"Jsb\",\n  \"Fya\",\n  \"Fyb\",\n  \"Jka\",\n  \"Jkb\",\n  \"Xga\",\n  \"Lea\",\n  \"Leb\",\n  \"S\",\n  \"s\",\n  \"M\",\n  \"N\",\n  \"P\",\n  \"Lua\",\n  \"Lub\"\n]"
						}
					]
				},
				{
					"name": "Get Antigen Pairs",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antigens/pairs",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens",
								"pairs"
							]
						},
						"description": "Get antigen pairs for homozygous rules. Used by Antibody Rules page to help create homozygous antibody rules."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens/pairs",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens",
										"pairs"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"D\": [\"C\", \"c\", \"E\", \"e\"],\n  \"C\": [\"D\", \"E\", \"e\"],\n  \"c\": [\"D\", \"E\", \"e\"],\n  \"E\": [\"D\", \"C\", \"c\"],\n  \"e\": [\"D\", \"C\", \"c\"],\n  \"K\": [\"k\"],\n  \"k\": [\"K\"],\n  \"Fya\": [\"Fyb\"],\n  \"Fyb\": [\"Fya\"],\n  \"Jka\": [\"Jkb\"],\n  \"Jkb\": [\"Jka\"],\n  \"S\": [\"s\"],\n  \"s\": [\"S\"],\n  \"M\": [\"N\"],\n  \"N\": [\"M\"],\n  \"Lea\": [\"Leb\"],\n  \"Leb\": [\"Lea\"]\n}"
						}
					]
				},
				{
					"name": "Create Antigen",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"TestAntigen\",\n  \"system\": \"Test\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/antigens",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens"
							]
						},
						"description": "Create a new antigen. Requires name and system fields."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"TestAntigen\",\n  \"system\": \"Test\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antigens",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"name\": \"TestAntigen\",\n  \"system\": \"Test\"\n}"
						},
						{
							"name": "Conflict - Antigen Already Exists",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"D\",\n  \"system\": \"Rh\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antigens",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens"
									]
								}
							},
							"status": "Conflict",
							"code": 409,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Antigen already exists\"\n}"
						},
						{
							"name": "Bad Request - Missing Fields",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"TestAntigen\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antigens",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Missing required fields\"\n}"
						}
					]
				},
				{
					"name": "Delete Antigen",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antigens/{{antigen_name}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens",
								"{{antigen_name}}"
							]
						},
						"description": "Delete an antigen and its associated antibody rules. This action cannot be undone."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens/TestAntigen",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens",
										"TestAntigen"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Antigen and associated rules deleted successfully\"\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens/NonExistentAntigen",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens",
										"NonExistentAntigen"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Antigen not found\"\n}"
						}
					]
				},
				{
					"name": "Initialize Base Antigens",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antigens/initialize",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antigens",
								"initialize"
							]
						},
						"description": "Initialize the database with base antigens. This will add all standard blood group antigens if they don't already exist."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antigens/initialize",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antigens",
										"initialize"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Base antigens initialized successfully\"\n}"
						}
					]
				}
			]
		},
		{
			"name": "Antibody Rules",
			"description": "CRUD operations for antibody rules. Antibody rules define how antigens are ruled out during antibody identification using various rule types (ABSpecificRO, Homo, Hetero, SingleAG, LowF).",
			"item": [
				{
					"name": "Get All Antibody Rules",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antibody-rules",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules"
							]
						},
						"description": "Retrieve all antibody rules from the database. Returns a list of rules with their types, target antigens, and rule data."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "[\n  {\n    \"id\": 1,\n    \"target_antigen\": \"D\",\n    \"rule_type\": \"single\",\n    \"rule_data\": {\n      \"antigens\": [\"D\"]\n    },\n    \"enabled\": true\n  },\n  {\n    \"id\": 2,\n    \"target_antigen\": \"C\",\n    \"rule_type\": \"homo\",\n    \"rule_data\": {\n      \"antigen_pairs\": [[\"C\", \"c\"]]\n    },\n    \"enabled\": true\n  },\n  {\n    \"id\": 3,\n    \"target_antigen\": \"K\",\n    \"rule_type\": \"hetero\",\n    \"rule_data\": {\n      \"antigen_a\": \"K\",\n      \"antigen_b\": \"k\",\n      \"required_count\": 3\n    },\n    \"enabled\": true\n  }\n]"
						}
					]
				},
				{
					"name": "Get Antibody Rule by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antibody-rules/{{rule_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules",
								"{{rule_id}}"
							]
						},
						"description": "Retrieve a specific antibody rule by its ID."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": true\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"999"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Rule not found\"\n}"
						}
					]
				},
				{
					"name": "Create Antibody Rule",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/antibody-rules",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules"
							]
						},
						"description": "Create a new antibody rule. Supports rule types: abspecific, homo, hetero, single, lowf. Each rule type has specific required rule_data fields."
					},
					"response": [
						{
							"name": "Success Response - Single Rule",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": true\n}"
						},
						{
							"name": "Success Response - Homo Rule",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"C\",\n  \"rule_type\": \"homo\",\n  \"rule_data\": {\n    \"antigen_pairs\": [[\"C\", \"c\"]]\n  },\n  \"enabled\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 2,\n  \"target_antigen\": \"C\",\n  \"rule_type\": \"homo\",\n  \"rule_data\": {\n    \"antigen_pairs\": [[\"C\", \"c\"]]\n  },\n  \"enabled\": true\n}"
						},
						{
							"name": "Success Response - Hetero Rule",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"K\",\n  \"rule_type\": \"hetero\",\n  \"rule_data\": {\n    \"antigen_a\": \"K\",\n    \"antigen_b\": \"k\",\n    \"required_count\": 3\n  },\n  \"enabled\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 3,\n  \"target_antigen\": \"K\",\n  \"rule_type\": \"hetero\",\n  \"rule_data\": {\n    \"antigen_a\": \"K\",\n    \"antigen_b\": \"k\",\n    \"required_count\": 3\n  },\n  \"enabled\": true\n}"
						},
						{
							"name": "Success Response - ABSpecificRO Rule",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"C\",\n  \"rule_type\": \"abspecific\",\n  \"rule_data\": {\n    \"antibody\": \"anti-C\",\n    \"antigen1\": \"C\",\n    \"antigen2\": \"D\",\n    \"required_count\": 2\n  },\n  \"enabled\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 4,\n  \"target_antigen\": \"C\",\n  \"rule_type\": \"abspecific\",\n  \"rule_data\": {\n    \"antibody\": \"anti-C\",\n    \"antigen1\": \"C\",\n    \"antigen2\": \"D\",\n    \"required_count\": 2\n  },\n  \"enabled\": true\n}"
						},
						{
							"name": "Success Response - LowF Rule",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"Xga\",\n  \"rule_type\": \"lowf\",\n  \"rule_data\": {\n    \"antigens\": [\"Xga\"]\n  },\n  \"enabled\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 5,\n  \"target_antigen\": \"Xga\",\n  \"rule_type\": \"lowf\",\n  \"rule_data\": {\n    \"antigens\": [\"Xga\"]\n  },\n  \"enabled\": true\n}"
						},
						{
							"name": "Bad Request - Missing Fields",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"D\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Missing required fields\"\n}"
						},
						{
							"name": "Bad Request - Invalid Rule Type",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"invalid_type\",\n  \"rule_data\": {},\n  \"enabled\": true\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Invalid rule type\"\n}"
						}
					]
				},
				{
					"name": "Update Antibody Rule",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": false\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/antibody-rules/{{rule_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules",
								"{{rule_id}}"
							]
						},
						"description": "Update an existing antibody rule by ID."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": false\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"id\": 1,\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": false\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"target_antigen\": \"D\",\n  \"rule_type\": \"single\",\n  \"rule_data\": {\n    \"antigens\": [\"D\"]\n  },\n  \"enabled\": false\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"999"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Rule not found\"\n}"
						}
					]
				},
				{
					"name": "Delete Antibody Rule",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antibody-rules/{{rule_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules",
								"{{rule_id}}"
							]
						},
						"description": "Delete an antibody rule by ID."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/1",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"1"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Rule deleted successfully\"\n}"
						},
						{
							"name": "Not Found Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/999",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"999"
									]
								}
							},
							"status": "Not Found",
							"code": 404,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"error\": \"Rule not found\"\n}"
						}
					]
				},
				{
					"name": "Delete All Antibody Rules",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antibody-rules/delete-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules",
								"delete-all"
							]
						},
						"description": "Delete all antibody rules from the database. This action cannot be undone."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/delete-all",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"delete-all"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"All antibody rules deleted successfully\"\n}"
						}
					]
				},
				{
					"name": "Initialize Default Antibody Rules",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antibody-rules/initialize",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"antibody-rules",
								"initialize"
							]
						},
						"description": "Initialize the database with default antibody rules. This will add standard rules for all antigens if they don't already exist."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/antibody-rules/initialize",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"antibody-rules",
										"initialize"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"message\": \"Default antibody rules initialized successfully\"\n}"
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Set default base URL if not already set",
					"if (!pm.environment.get('base_url')) {",
					"    pm.environment.set('base_url', 'http://localhost:5000');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Common test script for all requests",
					"pm.test(\"Status code is 200 or 201\", function () {",
					"    pm.expect(pm.response.code).to.be.oneOf([200, 201]);",
					"});",
					"",
					"pm.test(\"Response has required headers\", function () {",
					"    pm.response.to.have.header(\"Content-Type\");",
					"    pm.expect(pm.response.headers.get(\"Content-Type\")).to.include(\"application/json\");",
					"});",
					"",
					"pm.test(\"Response time is less than 2000ms\", function () {",
					"    pm.expect(pm.response.responseTime).to.be.below(2000);",
					"});"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:5000",
			"type": "string"
		},
		{
			"key": "template_id",
			"value": "1752694582796",
			"type": "string"
		},
		{
			"key": "antigram_id",
			"value": "1752694582796",
			"type": "string"
		},
		{
			"key": "rule_id",
			"value": "1",
			"type": "string"
		},
		{
			"key": "antigen_name",
			"value": "D",
			"type": "string"
		}
	]
} 