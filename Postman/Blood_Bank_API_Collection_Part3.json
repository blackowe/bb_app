{
	"name": "Patient Reactions",
	"description": "CRUD operations for patient reactions. Patient reactions are the test results from a patient's blood sample against antigram cells.",
	"item": [
		{
			"name": "Get Patient Reactions",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/patient-reactions",
					"host": ["{{base_url}}"],
					"path": ["api", "patient-reactions"]
				},
				"description": "Retrieve all patient reactions from the database."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/patient-reactions",
							"host": ["{{base_url}}"],
							"path": ["api", "patient-reactions"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"reactions\": {\n    \"1752694582796\": {\n      \"1\": \"+\",\n      \"2\": \"0\",\n      \"3\": \"+\",\n      \"4\": \"0\",\n      \"5\": \"+\"\n    },\n    \"1752694844028\": {\n      \"1\": \"0\",\n      \"2\": \"+\",\n      \"3\": \"0\",\n      \"4\": \"+\",\n      \"5\": \"0\"\n    }\n  }\n}"
				}
			]
		},
		{
			"name": "Add Patient Reaction",
			"request": {
				"method": "POST",
				"header": [{"key": "Content-Type", "value": "application/json"}],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"antigram_id\": 1752694582796,\n  \"cell_number\": \"1\",\n  \"reaction\": \"+\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/patient-reactions",
					"host": ["{{base_url}}"],
					"path": ["api", "patient-reactions"]
				},
				"description": "Add a single patient reaction for a specific cell in an antigram."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"antigram_id\": 1752694582796,\n  \"cell_number\": \"1\",\n  \"reaction\": \"+\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/patient-reactions",
							"host": ["{{base_url}}"],
							"path": ["api", "patient-reactions"]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"message\": \"Patient reaction added successfully\"\n}"
				}
			]
		},
		{
			"name": "Add Batch Patient Reactions",
			"request": {
				"method": "POST",
				"header": [{"key": "Content-Type", "value": "application/json"}],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"reactions\": {\n    \"1752694582796\": {\n      \"1\": \"+\",\n      \"2\": \"0\",\n      \"3\": \"+\",\n      \"4\": \"0\",\n      \"5\": \"+\"\n    },\n    \"1752694844028\": {\n      \"1\": \"0\",\n      \"2\": \"+\",\n      \"3\": \"0\",\n      \"4\": \"+\",\n      \"5\": \"0\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/patient-reactions/batch",
					"host": ["{{base_url}}"],
					"path": ["api", "patient-reactions", "batch"]
				},
				"description": "Add multiple patient reactions in batch for multiple antigrams."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"reactions\": {\n    \"1752694582796\": {\n      \"1\": \"+\",\n      \"2\": \"0\",\n      \"3\": \"+\",\n      \"4\": \"0\",\n      \"5\": \"+\"\n    },\n    \"1752694844028\": {\n      \"1\": \"0\",\n      \"2\": \"+\",\n      \"3\": \"0\",\n      \"4\": \"+\",\n      \"5\": \"0\"\n    }\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/patient-reactions/batch",
							"host": ["{{base_url}}"],
							"path": ["api", "patient-reactions", "batch"]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"message\": \"Batch patient reactions added successfully\"\n}"
				}
			]
		},
		{
			"name": "Delete Patient Reaction",
			"request": {
				"method": "DELETE",
				"header": [{"key": "Content-Type", "value": "application/json"}],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"antigram_id\": 1752694582796,\n  \"cell_number\": \"1\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/api/delete-patient-reaction",
					"host": ["{{base_url}}"],
					"path": ["api", "delete-patient-reaction"]
				},
				"description": "Delete a specific patient reaction for a cell."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "DELETE",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"antigram_id\": 1752694582796,\n  \"cell_number\": \"1\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/delete-patient-reaction",
							"host": ["{{base_url}}"],
							"path": ["api", "delete-patient-reaction"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"message\": \"Patient reaction deleted successfully\"\n}"
				}
			]
		},
		{
			"name": "Clear All Patient Reactions",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/clear-patient-reactions",
					"host": ["{{base_url}}"],
					"path": ["api", "clear-patient-reactions"]
				},
				"description": "Clear all patient reactions from the database."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/clear-patient-reactions",
							"host": ["{{base_url}}"],
							"path": ["api", "clear-patient-reactions"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"message\": \"All patient reactions cleared successfully\"\n}"
				}
			]
		}
	]
},
{
	"name": "Antibody Identification",
	"description": "Antibody identification functionality using patient reactions and antibody rules.",
	"item": [
		{
			"name": "Get Antibody Identification Results",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/antibody-identification",
					"host": ["{{base_url}}"],
					"path": ["api", "antibody-identification"]
				},
				"description": "Get antibody identification results based on current patient reactions and antibody rules."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/antibody-identification",
							"host": ["{{base_url}}"],
							"path": ["api", "antibody-identification"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"ruled_out_antigens\": [\"D\", \"C\", \"E\"],\n  \"possible_antibodies\": [\"anti-c\", \"anti-e\", \"anti-K\"],\n  \"ruling_out_details\": {\n    \"D\": [\n      {\n        \"cell_number\": \"1\",\n        \"lot_number\": \"ABC123\",\n        \"antigram_id\": 1752694582796,\n        \"rule_type\": \"single\",\n        \"antigen\": \"D\"\n      }\n    ]\n  }\n}"
				}
			]
		},
		{
			"name": "Get ABID Results",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/abid",
					"host": ["{{base_url}}"],
					"path": ["api", "abid"]
				},
				"description": "Get antibody identification results (alternative endpoint)."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/abid",
							"host": ["{{base_url}}"],
							"path": ["api", "abid"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"ruled_out_antigens\": [\"D\", \"C\", \"E\"],\n  \"possible_antibodies\": [\"anti-c\", \"anti-e\", \"anti-K\"]\n}"
				}
			]
		}
	]
},
{
	"name": "Cell Finding",
	"description": "Cell finding functionality to search for cells with specific antigen patterns.",
	"item": [
		{
			"name": "Find Cells by Pattern",
			"request": {
				"method": "POST",
				"header": [{"key": "Content-Type", "value": "application/json"}],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"search_pattern\": {\n    \"D\": \"+\",\n    \"C\": \"+\",\n    \"c\": \"0\",\n    \"E\": \"0\",\n    \"e\": \"+\"\n  }\n}"
				},
				"url": {
					"raw": "{{base_url}}/cell_finder",
					"host": ["{{base_url}}"],
					"path": ["cell_finder"]
				},
				"description": "Find cells that match a specific antigen pattern across all antigrams."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [{"key": "Content-Type", "value": "application/json"}],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"search_pattern\": {\n    \"D\": \"+\",\n    \"C\": \"+\",\n    \"c\": \"0\",\n    \"E\": \"0\",\n    \"e\": \"+\"\n  }\n}"
						},
						"url": {
							"raw": "{{base_url}}/cell_finder",
							"host": ["{{base_url}}"],
							"path": ["cell_finder"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"matching_cells\": [\n    {\n      \"antigram_id\": 1752694582796,\n      \"cell_number\": \"1\",\n      \"lot_number\": \"ABC123\",\n      \"reactions\": {\n        \"D\": \"+\",\n        \"C\": \"+\",\n        \"c\": \"0\",\n        \"E\": \"0\",\n        \"e\": \"+\",\n        \"K\": \"0\",\n        \"k\": \"+\",\n        \"Fya\": \"+\",\n        \"Fyb\": \"0\",\n        \"Jka\": \"+\",\n        \"Jkb\": \"0\",\n        \"S\": \"+\",\n        \"s\": \"0\",\n        \"M\": \"+\",\n        \"N\": \"0\",\n        \"P\": \"+\",\n        \"Lea\": \"0\",\n        \"Leb\": \"+\"\n      }\n    }\n  ],\n  \"total_matches\": 1\n}"
				}
			]
		}
	]
},
{
	"name": "Validation & Debug",
	"description": "Validation and debugging endpoints for checking system integrity.",
	"item": [
		{
			"name": "Validate Rules",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/validate-rules",
					"host": ["{{base_url}}"],
					"path": ["api", "validate-rules"]
				},
				"description": "Validate all antibody rules for conflicts and completeness."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/validate-rules",
							"host": ["{{base_url}}"],
							"path": ["api", "validate-rules"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"errors\": [],\n  \"warnings\": [\"Antigens without rules: Xga, Lua\"],\n  \"total_rules\": 18,\n  \"total_antigens\": 20\n}"
				}
			]
		},
		{
			"name": "Get Validation Summary",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/validate-rules/summary",
					"host": ["{{base_url}}"],
					"path": ["api", "validate-rules", "summary"]
				},
				"description": "Get a summary of rule validation results."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/validate-rules/summary",
							"host": ["{{base_url}}"],
							"path": ["api", "validate-rules", "summary"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"total_rules\": 18,\n  \"enabled_rules\": 16,\n  \"disabled_rules\": 2,\n  \"total_antigens\": 20,\n  \"antigens_with_rules\": 18,\n  \"antigens_without_rules\": 2\n}"
				}
			]
		},
		{
			"name": "Get Missing Antigens",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/validate-rules/missing",
					"host": ["{{base_url}}"],
					"path": ["api", "validate-rules", "missing"]
				},
				"description": "Get list of antigens that don't have antibody rules."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/validate-rules/missing",
							"host": ["{{base_url}}"],
							"path": ["api", "validate-rules", "missing"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "[\n  \"Xga\",\n  \"Lua\"\n]"
				}
			]
		},
		{
			"name": "Debug Patient Reactions",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{base_url}}/api/debug/patient-reactions",
					"host": ["{{base_url}}"],
					"path": ["api", "debug", "patient-reactions"]
				},
				"description": "Get detailed debug information about patient reactions."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/debug/patient-reactions",
							"host": ["{{base_url}}"],
							"path": ["api", "debug", "patient-reactions"]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [{"key": "Content-Type", "value": "application/json"}],
					"cookie": [],
					"body": "{\n  \"total_reactions\": 10,\n  \"antigrams_with_reactions\": 2,\n  \"reaction_summary\": {\n    \"+\": 6,\n    \"0\": 4\n  },\n  \"detailed_reactions\": {\n    \"1752694582796\": {\n      \"1\": \"+\",\n      \"2\": \"0\",\n      \"3\": \"+\",\n      \"4\": \"0\",\n      \"5\": \"+\"\n    }\n  }\n}"
				}
			]
		}
	]
} 